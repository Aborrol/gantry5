{% set attr_class = segment.classes ? ' class="g-' ~ segment.classes|join(' ') ~ '"' %}

{% set html %}
    {% if segment.children %}
        {% for segment in segments %}
            {% include '@nucleus/' ~ segment.type ~ '.html.twig' with { 'segments':segment.children } %}
        {% endfor %}
    {% endif %}
{% endset %}

{% if html|trim %}
    <section id="g-{{ segment.title|lower|replace({' ': '-'}) }}" {{ attr_class }}>
        {{ html }}
    </section>
{% endif %}
