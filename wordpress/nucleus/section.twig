{% set type = segment.attributes.type in ['header', 'footer'] ? segment.attributes.type : 'section' %}
{% set attr_id = segment.attributes.id ? ' id="' ~ segment.attributes.id|lower ~ '"' %}
{% set attr_class = segment.classes ? ' class="' ~ segment.classes|join(' ') ~ '"' %}

<{{ type }}{{ attr_id }}{{ attr_class }}>
    {% if  segment.children %}
        {% for segment in segments %}
            {% include '@nucleus/' ~ segment.type ~ '.twig' with { 'segments':segment.children } %}
        {% endfor %}
    {% endif %}
</{{ type }}>
