%dropdown-column {
	width: $menu-col-width;
	float: left;
}

%link-parent-indicator {
	border: 1px solid lighten($navigation-background, 6%);
	background: darken($navigation-background, 4%);
	&:hover {
		background: darken($navigation-background, 8%);
	}
}

#g-navigation {
	background: $navigation-background;
	color: $navigation-text-color;
	text-align: center;
	position: relative;
	z-index: 2;

	.g-main-nav {
		margin: -($content-padding + $content-margin);

		.g-toplevel {
			@include display(flex);
			@include flex-flow(row wrap);
			justify-content: center;
			-webkit-justify-content: center;

			> li {
				> .g-menu-item-container {
					color: $navigation-text-color;
				}
				&:hover {
					background: darken($navigation-background, 6%);

					> .g-menu-item-container {
						> .g-selected {
							background: darken($navigation-background, 6%);
						}
					}
				}

				&.active {
					background: $main-background;

					> .g-menu-item-container {
						color: $main-text-color;
					
						> .g-selected {
							background: darken($navigation-background, 6%);
							color: $navigation-text-color;
						}
					}
				}
				> .g-menu-item-container {
					> .g-selected {
						background: darken($navigation-background, 6%);
					}
				}
			}
		}

		.g-dropdown {
			background: darken($navigation-background, 6%);
		}

		.g-sublevel {
			> li {
				> .g-menu-item-container {
					color: $navigation-text-color;
				}

				&:hover, &.active {
					background: darken($navigation-background, 10%);
					> .g-menu-item-container {
						> .g-selected {
							background: darken($navigation-background, 10%);
						}
					}
				}
				> .g-menu-item-container {
					> .g-selected {
						background: darken($navigation-background, 10%);
					}
				}
			}
		}
	}

	.align-left {
		.g-toplevel {
			justify-content: flex-start;
			-webkit-justify-content: flex-start;
		}
	}

	.align-right {
		.g-toplevel {
			justify-content: flex-end;
			-webkit-justify-content: flex-end;
		}
	}

	.g-menu-hastouch {
		.g-toplevel {
			> li {
				&.g-menu-item-link-parent {
					> .g-menu-item-container {
						> .g-menu-parent-indicator {
							@extend %link-parent-indicator;
							border-radius: $core-border-radius;
							margin: -0.2rem 0 -0.2rem 0.5rem;
							padding: 0.2rem;
						}
					}
				}
			}
		}
	}
}

.g-menu-hastouch .g-standard, .g-fullwidth {
	.g-sublevel {
		> li {
			&.g-menu-item-link-parent {
				> .g-menu-item-container {
					> .g-menu-parent-indicator {
						@extend %link-parent-indicator;
						border-radius: $core-border-radius;
						padding: 0.1rem;
						margin-top: -0.1rem;
						margin-right: -0.1rem;
					}
				}
			}
		}
	}
}

.g-main-nav {
	@include breakpoint(no-mobile) {
		position: relative;
	}
	.g-standard {
		.g-dropdown-column {
	    	@extend %dropdown-column;
	    }
	}
	.g-toplevel {
		font-weight: $font-weight-medium;
		> li {

			> .g-menu-item-container {
				padding: 1.2rem $content-padding;
			}

			> .g-menu-item-container {
				> .g-menu-item-content {
					line-height: normal;
				}
			}
		}

		i {
			opacity: 0.6;
		}
	}

	.g-dropdown {
		text-align: left;
	}

	.g-sublevel {
		> li {
			> .g-menu-item-container {
				padding: ($content-padding + $content-margin)/2 1rem;
			}
		}
	}
}

// Subtitle
.g-menu-item-subtitle {
	opacity: 0.7;
}

// Nav Overlay
.g-nav-overlay, .g-menu-overlay {
	background: $navigation-overlay;
}